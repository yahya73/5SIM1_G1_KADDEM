
pipeline {
    agent any
    stages {
        stage('Hello') {
            steps {
                echo 'Hello World'
            }
        }

        stage('Git') {
            steps {
                git branch: 'salim', changelog: false, poll: false, url: 'https://github.com/yahya73/KADDEM_DEVOPS.git'
            }
        }
                 stage('Testing Maven') {
                                      steps {
                                          sh 'mvn -version'
                                      }
                                  }

             stage('Build') {
                 steps {
                     sh 'mvn clean install -DskipITs'
                 }
             }
             stage ('SonarQube') {

                                 steps {

                                     sh 'mvn sonar:sonar -Dsonar.token=squ_6a2bf4c90f75473d5bea7a32de4c9055ba35a536  -Dmaven.test.skip=true';

                                 }

                             }
                             stage ('Nexus') {
                                 steps {
                                     sh 'mvn deploy -DskipTests -Dusername=admin -Dpassword=nexus'
                                       }
                             }
       }

}